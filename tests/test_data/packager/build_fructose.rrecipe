!rebuildrecipe!

package fructose-3.4.5-6
  properties
    category=lib
  steps
    step_autoconf
      copy_source_to_build_dir: True
      configure_env
        all: CFLAGS=${REBUILD_COMPILE_CFLAGS}
        linux: CFLAGS="${REBUILD_COMPILE_CFLAGS} -std=gnu99"
      configure_flags
        all: --enable-static --disable-shared
      tests
        all: fructose-test.c
#        all: fructose2-test.c
#        all: fructose-1and2-test.c
  instructions
    libfructose1
      CFLAGS
        -I${REBUILD_PACKAGE_PREFIX}/include
      LDFLAGS
        -L${REBUILD_PACKAGE_PREFIX}/lib
      LIBS
        -lfructose1

    libfructose2
      CFLAGS
        -I${REBUILD_PACKAGE_PREFIX}/include
        -I${REBUILD_PACKAGE_PREFIX}/include/caca
      LDFLAGS
        -L${REBUILD_PACKAGE_PREFIX}/lib
      LIBS
        -lfructose2

    fructose
      requires
        libfructose2 libfructose1
  